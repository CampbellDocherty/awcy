import{r,U as u,j as l,F as g,a,E,D as y,b as v,d as x,u as I,B as D,A as f,S as k,c as w,C as M}from"./index-43311ce1.js";const U=({content:e,caption:i,setCaption:c,onDelete:t})=>{const o=r.useContext(u),[d,s]=r.useState(!1),p=async()=>{await x(e.metadata.name),t(e)},h=()=>{s(!d)},C=n=>{n.key==="Enter"&&(I(e.metadata.name,i),s(!1))};return l(g,{children:[d&&a(E,{autoFocus:!0,onKeyDown:n=>C(n),value:i,onChange:n=>c(n.target.value)}),o&&a(y,{onClick:p,children:"Delete"}),o&&a(v,{onClick:h,children:"Edit"})]})},F=({content:e})=>l(D,{loop:!0,autoPlay:!0,playsInline:!0,muted:!0,children:[a("source",{src:e.downloadUrl,type:m.MP4}),a("meta",{itemProp:"name",content:e.metadata.name})]});var m=(e=>(e.MP4="video/mp4",e.QUICKTIME="video/quicktime",e))(m||{});const S=({content:e,onDelete:i})=>{var s;const c=r.useContext(u),[t,o]=r.useState(((s=e.metadata.customMetadata)==null?void 0:s.caption)||""),d=e.metadata.contentType==="video/mp4"||e.metadata.contentType==="video/quicktime";return l(f,{children:[l("div",{children:[a(k,{children:d?a(F,{content:e}):a(w,{src:e.downloadUrl,alt:e.metadata.name})}),t&&a(M,{children:t})]}),c&&a(U,{content:e,onDelete:i,caption:t,setCaption:o})]})};export{m as ContentType,S as default};
