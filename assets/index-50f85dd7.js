import{r as n,U as E,j as l,F as y,a,E as g,D as v,b as x,d as k,u as w,B as I,M,c as D,e as h,A as U,S,C as b}from"./index-6233870a.js";const F=({content:e,caption:s,setCaption:p,onDelete:o})=>{const r=n.useContext(E),[t,c]=n.useState(!1),u=async()=>{await k(e.metadata.name),o(e)},d=()=>{c(!t)},m=i=>{i.key==="Enter"&&(w(e.metadata.name,s),c(!1))};return l(y,{children:[t&&a(g,{autoFocus:!0,onKeyDown:i=>m(i),value:s,onChange:i=>p(i.target.value)}),r&&a(v,{onClick:u,children:"Delete"}),r&&a(x,{onClick:d,children:"Edit"})]})},C=({firebaseContent:e,onClick:s})=>l(I,{loop:!0,autoPlay:!0,playsInline:!0,muted:!0,onClick:s,children:[a("source",{src:e.downloadUrl,type:f.MP4}),a("meta",{itemProp:"name",content:e.metadata.name})]});var f=(e=>(e.MP4="video/mp4",e.QUICKTIME="video/quicktime",e))(f||{});const j=({content:e,onDelete:s})=>{var m;const p=n.useContext(E),[o,r]=n.useState(((m=e.metadata.customMetadata)==null?void 0:m.caption)||""),[t,c]=n.useState(!1),u=e.metadata.contentType==="video/mp4"||e.metadata.contentType==="video/quicktime",d=()=>{c(!t)};return n.useEffect(()=>(t&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="unset"}),[t]),l(y,{children:[t&&a(M,{onClick:d,children:a(D,{children:u?a(C,{firebaseContent:e}):a(h,{src:e.downloadUrl,alt:e.metadata.name})})}),l(U,{children:[l("div",{children:[a(S,{children:u?a(C,{firebaseContent:e,onClick:d}):a(h,{onClick:d,src:e.downloadUrl,alt:e.metadata.name})}),o&&a(b,{children:o})]}),p&&a(F,{content:e,onDelete:s,caption:o,setCaption:r})]})]})};export{f as ContentType,j as default};
